<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Xenocord - Главная</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="main.js"></script>
  <script type="module" src="profile.js"></script>
</head>
<body>
  <header>
    <h1>Xenocord</h1>
    <p id="welcome"></p>
    <button onclick="openProfileModal()">Профиль</button>
    <button onclick="logout()">Выйти</button>
  </header>

  <section>
    <h2>Друзья</h2>
    <button onclick="openFriendModal()">Добавить друга</button>
    <div id="friendModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeFriendModal()">&times;</span>
        <h3>Добавить друга</h3>
        <input id="friendUid" type="text" placeholder="UID друга">
        <button onclick="sendFriendRequest()">Отправить заявку</button>
        <p id="friendError" style="color:red;"></p>
      </div>
    </div>

    <h3>Список друзей</h3>
    <ul id="friendsList"></ul>

    <h3>Ожидание</h3>
    <ul id="pendingList"></ul>
  </section>

  <section>
    <h2>Чат</h2>
    <div id="chatBox"></div>
    <input id="chatInput" type="text" placeholder="Сообщение">
    <button onclick="sendMessage()">Отправить</button>
  </section>

  <!-- Модальное окно профиля -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeProfileModal()">&times;</span>
      <h2>Мой профиль</h2>
      <p><b>UID:</b> <span id="profileUid"></span></p>
      <p><b>Email:</b> <span id="profileEmail"></span></p>
      <p><b>Ник:</b> <span id="profileNick"></span></p>
      <img id="profilePhoto" src="" alt="Фото профиля" style="width:100px;height:100px;border-radius:50%;">

      <h3>Редактировать</h3>
      <input id="newNick" type="text" placeholder="Новый ник">
      <input id="newPhoto" type="text" placeholder="URL фото">
      <button onclick="updateProfileData()">Сохранить изменения</button>
    </div>
  </div>
</body>
</html>
